<!-- Firebase App (required) -->
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app.js"></script>
<!-- Firebase Realtime Database -->
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-database.js"></script>
<!-- Firebase Authentication (if using logins) -->
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-auth.js"></script>



<script>
const firebaseConfig = {
  apiKey: "AIzaSyAbge0io2zDFsgPTgyJ8cgzfGsegqeF19w",
  authDomain: "piosf-7ab81.firebaseapp.com",
  databaseURL: "https://piosf-7ab81-default-rtdb.firebaseio.com",
  projectId: "piosf-7ab81",
  storageBucket: "piosf-7ab81.firebasestorage.app",
  messagingSenderId: "198847746183",
  appId: "1:198847746183:web:bbb2ab9f9c4f3657ea6822"
};
firebase.initializeApp(firebaseConfig);
</script>


<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Ark Pioneer Sixth Form Dashboard</title>
  <style>
    body { font-family: Arial, sans-serif; margin: 0; background: #f4f4f4; }

    /* Banner */
    header {
      position: fixed; top: 0; left: 0; right: 0;
      background: #222; padding: 12px; text-align: center;
      z-index: 1000;
    }
    header span { color: white; font-size: 20px; }
    header .sixth { font-weight: bold; font-style: italic; }
    header .dash { color: red; font-weight: bold; }
    header .ark { color: white; }
    header .form { color: white; }
    header .dashboard { color: orange; }

    main { margin-top: 80px; padding: 20px; }

    /* Login */
    #loginBox { margin: 10px 0; }

    /* Calendar */
    .calendar { display: grid; grid-template-columns: repeat(7, 1fr); gap: 5px; }
    .day { background: white; padding: 10px; position: relative; min-height: 80px; }
    .day .date { font-weight: bold; }
    .event { padding: 2px 4px; border-radius: 4px; margin: 2px 0; color: white; font-size: 12px; position: relative; }
    .event .deleteBtn { position: absolute; right: 2px; top: 2px; cursor: pointer; font-weight: bold; display: none; }
    .admin .event .deleteBtn { display: inline; }

    /* Shoutouts */
    #shoutouts { margin-top: 20px; }

    /* Uni Bar Chart */
    .barChart { display: flex; align-items: flex-end; height: 300px; gap: 20px; margin-top: 20px; }
    .bar { flex: 1; display: flex; align-items: flex-end; justify-content: center; position: relative; }
    .bar div { width: 60px; text-align: center; font-weight: bold; writing-mode: vertical-rl; transform: rotate(180deg); position: absolute; bottom: 0; }
    .barFill { width: 60px; }
  </style>
</head>
<body>
  <header>
    <span class="ark">Ark Pioneer </span>
    <span class="sixth">Sixth Form</span>
    <span class="dashboard"> Dashboard</span>
  </header>

  <main>
    <div id="loginBox">
      <input type="password" id="adminPass" placeholder="Enter admin password">
      <button onclick="login()">Login</button>
    </div>

    <h2>Calendar - September 2025</h2>
    <div id="calendar" class="calendar"></div>
    <button onclick="showAddEvent()">Add Event</button>
    <div id="eventForm" style="display:none; margin-top:10px;">
      <input type="text" id="eventTitle" placeholder="Event title">
      <input type="number" id="eventDay" min="1" max="30" placeholder="Day">
      <div>
        <label><input type="checkbox" value="Oxford">Oxford</label>
        <label><input type="checkbox" value="Cambridge">Cambridge</label>
        <label><input type="checkbox" value="UCL">UCL</label>
        <label><input type="checkbox" value="Manchester">Manchester</label>
      </div>
      <button onclick="addEvent()">Save</button>
    </div>

    <div id="shoutouts">
      <h2>Shoutouts</h2>
      <input type="text" id="shoutInput" placeholder="Write shoutout...">
      <button onclick="addShoutout()">Add</button>
      <ul id="shoutList"></ul>
    </div>

    <h2>University Applications</h2>
    <div class="barChart" id="barChart"></div>
  </main>

<script>
  let isAdmin = false;
  let events = [
    { day: 5, title: "Oxford Open Day", unis: ["Oxford"] },
    { day: 12, title: "Cambridge Visit", unis: ["Cambridge"] },
    { day: 18, title: "UCL Webinar", unis: ["UCL"] },
    { day: 22, title: "Manchester Fair", unis: ["Manchester"] }
  ];
  let shoutouts = ["Well done Alice!", "Great work Bob!"];
  let uniCounts = { Oxford: 3, Cambridge: 5, UCL: 4, Manchester: 2 };
  let uniColors = { Oxford: 'blue', Cambridge: 'green', UCL: 'purple', Manchester: 'deeppink' };

  function login() {
    const pass = document.getElementById('adminPass').value;
    if (pass === 'admin123') {
      isAdmin = true;
      document.body.classList.add('admin');
      alert('Admin logged in!');
    } else {
      alert('Wrong password');
    }
  }

  function renderCalendar() {
    const cal = document.getElementById('calendar');
    cal.innerHTML = '';
    for (let i=1; i<=30; i++) {
      const d = document.createElement('div');
      d.className = 'day';
      d.innerHTML = `<div class="date">${i}</div>`;
      events.filter(e=>e.day===i).forEach((e, idx)=>{
        e.unis.forEach(u => {
          const ev = document.createElement('div');
          ev.className = 'event';
          ev.style.background = uniColors[u];
          ev.textContent = e.title + ' ('+u+')';
          if(isAdmin){
            const x = document.createElement('span');
            x.textContent = 'Ã—';
            x.className = 'deleteBtn';
            x.onclick = ()=>{ events.splice(events.indexOf(e),1); renderCalendar(); };
            ev.appendChild(x);
          }
          d.appendChild(ev);
        });
      });
      cal.appendChild(d);
    }
  }

  function showAddEvent() {
    document.getElementById('eventForm').style.display='block';
  }

  function addEvent() {
    const title = document.getElementById('eventTitle').value;
    const day = parseInt(document.getElementById('eventDay').value);
    const uniBoxes = [...document.querySelectorAll('#eventForm input[type=checkbox]:checked')];
    const unis = uniBoxes.map(cb=>cb.value);
    if(!title||!day||unis.length===0) return alert('Fill all fields');
    events.push({day,title,unis});
    renderCalendar();
  }

  function addShoutout(){
    const s = document.getElementById('shoutInput').value;
    if(!s) return;
    shoutouts.push(s);
    renderShoutouts();
  }

  function renderShoutouts(){
    const list = document.getElementById('shoutList');
    list.innerHTML = '';
    shoutouts.forEach(s=>{
      const li = document.createElement('li');
      li.textContent = s;
      list.appendChild(li);
    });
  }

  function renderBars(){
    const bc = document.getElementById('barChart');
    bc.innerHTML='';
    for(const uni in uniCounts){
      const bar = document.createElement('div');
      bar.className='bar';
      const fill = document.createElement('div');
      fill.className='barFill';
      fill.style.height = (uniCounts[uni]*40)+'px';
      fill.style.background = uniColors[uni];
      const label = document.createElement('div');
      label.textContent=uni;
      label.style.color='white';
      bar.appendChild(fill);
      bar.appendChild(label);
      bc.appendChild(bar);
    }
  }

  renderCalendar();
  renderShoutouts();
  renderBars();
</script>
</body>
</html>

